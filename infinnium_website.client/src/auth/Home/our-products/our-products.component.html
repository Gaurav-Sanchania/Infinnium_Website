<section
  class="py-16 px-6 md:px-16 lg:px-35 bg-[#12423C]"
  style="font-family: 'Manrope', 'Open Sans', sans-serif"
>
  <div class="max-w-6xl mx-auto">
    <!-- Section Header -->
    <div class="text-center mb-12 section-header">
      <p class="text-xs sm:text-sm text-[#ffffff] font-semibold tracking-wide">
        PRODUCTS
      </p>
      <h2 class="text-4xl font-semibold mt-2 text-[#ffffff]">
        Our <span class="italic">Products</span>
      </h2>
      <p class="mt-4 text-[#ffffff]">
        Improve your processes, serve more customers, and grow your business
        with cutting-edge technology.
      </p>
    </div>

    <!-- Mobile Carousel -->
    <div class="block md:hidden overflow-hidden relative" #mobileSlider>
      <section #productsSection class="our-products-section">
        <div
          class="flex transition-transform duration-700 ease-in-out"
          #sliderTrack
        >
          <div *ngFor="let s of displaySlides" class="min-w-full px-2">
            <div
              class="bg-white text-black rounded-lg shadow-lg p-6 product-item"
            >
              <h3 class="text-xl font-semibold">
                {{
                  s === 0 ? "4iG®" : s === 1 ? "ObscurePI®" : "Breach Profiler™"
                }}
              </h3>
              <p class="mt-2 text-gray-600" *ngIf="s === 0">
                Revolutionize data management with 4iG®. Manage, classify, and
                protect data using AI—quick, smart, and seamless.
              </p>
              <p class="mt-2 text-[#516B75]" *ngIf="s === 1">
                Protect PII with ObscurePI®—smart redaction, anonymization, and
                encryption across all file types, no imaging needed.
              </p>
              <p class="mt-2 text-gray-600" *ngIf="s === 2">
                BreachProfiler™ uses AI to swiftly identify breach impacts—fast,
                accurate, and compliant post-cyber review.
              </p>

              <a
                [routerLink]="[
                  s === 0
                    ? '/products/4ig'
                    : s === 1
                    ? '/products/obscure-pi'
                    : '/products/breach-profiler'
                ]"
                class="text-[#E76F51] hover:text-[#E65A4E] font-medium mt-3 inline-block hover:underline"
              >
                Read More →
              </a>
              <img
                src="product.png"
                alt="Product {{ s + 1 }}"
                class="mt-4 rounded-xl"
              />
            </div>
          </div>
        </div>
      </section>

      <!-- Dot Navigation -->
      <div class="flex justify-center mt-4 space-x-2" *ngIf="isMobile">
        <div
          *ngFor="let s of slides; let i = index"
          role="button"
          tabindex="0"
          [attr.aria-label]="'Go to slide ' + (i + 1)"
          (click)="goToSlide(i)"
          (keydown)="handleKey($event, i)"
          class="w-4 h-4 rounded-full border border-gray-300 cursor-pointer transition-all duration-300 outline-none"
          [ngClass]="{
            'bg-gray-200': currentSlide === i + 1,
            'bg-[#12423c]': currentSlide !== i + 1
          }"
        ></div>
      </div>
    </div>

    <!-- Desktop Product Grid -->
    <div
      class="hidden md:grid md:grid-cols-2 gap-8 product-grid"
      id="productGrid"
      #productGrid
    >
      <!--Product Card 1-->
      <div
        class="relative group bg-white/5 border border-white/10 backdrop-blur-xl rounded-2xl p-8 transition transform hover:-translate-y-2 hover:shadow-2xl hover:border-[#00FFD1] product-item left-card item-hidden"
        #leftCard
      >
        <h3 class="text-2xl font-bold text-white tracking-wide">4iG®</h3>
        <p class="mt-4 text-[#c9d6d7]">
          Revolutionize data management with 4iG®. Manage, classify, and protect
          data using AI—quick, smart, and seamless.
        </p>
        <a
          [routerLink]="['/products/4ig']"
          class="mt-5 inline-block text-[#00FFD1] font-semibold transition-all duration-300 group-hover:translate-x-1 group-hover:underline"
        >
          Read More →
        </a>
        <img src="product.png" alt="Product 1" class="mt-4 rounded-xl" />
        <div
          class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-[#00FFD1]/20 to-transparent blur-xl opacity-50 rounded-full"
        ></div>
      </div>

      <div
        class="relative group bg-white/5 border border-white/10 backdrop-blur-xl rounded-2xl p-8 transition transform hover:-translate-y-2 hover:shadow-2xl hover:border-[#00FFD1] product-item right-card item-hidden"
        #rightCard
      >
        <h3 class="text-2xl font-bold text-white tracking-wide">ObscurePI®</h3>
        <p class="mt-4 text-[#c9d6d7]">
          Protect PII with ObscurePI®—smart redaction, anonymization, and
          encryption across all file types, no imaging needed.
        </p>
        <a
          [routerLink]="['/products/obscure-pi']"
          class="mt-5 inline-block text-[#00FFD1] font-semibold transition-all duration-300 group-hover:translate-x-1 group-hover:underline"
        >
          Read More →
        </a>
        <img src="product.png" alt="Product 2" class="mt-4 rounded-xl" />
        <div
          class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-[#00FFD1]/20 to-transparent blur-xl opacity-50 rounded-full"
        ></div>
      </div>

      <!--Product Card 2-->
     <!-- <div
        class="bg-white text-black rounded-lg shadow-lg p-6 product-item right-card item-hidden"
        #rightCard
      >
        <h3 class="text-xl font-semibold">ObscurePI®</h3>
        <p class="mt-2 text-[#516B75]">
          Protect PII with ObscurePI®—smart redaction, anonymization, and
          encryption across all file types, no imaging needed.
        </p>
        <a
          [routerLink]="['/products/obscure-pi']"
          class="text-[#E76F51] hover:text-[#E65A4E] font-medium mt-3 inline-block hover:underline"
        >
          Read More →
        </a>
        <img src="product.png" alt="Product 2" class="mt-4 rounded-xl" />
      </div>  -->

      <div
        class="relative group bg-white/5 border border-white/10 backdrop-blur-xl rounded-2xl md:col-span-2 p-8 transition transform hover:-translate-y-2 hover:shadow-2xl hover:border-[#00FFD1] product-item bottom-card item-hidden"
        #bottomCard
      >
        <h3 class="text-2xl font-bold text-white tracking-wide">Breach Profiler™</h3>
        <p class="mt-4 text-[#c9d6d7]">
          BreachProfiler™ uses AI to swiftly identify breach impacts—fast,
          accurate, and compliant post-cyber review.
        </p>
        <a
          [routerLink]="['/products/breach-profiler']"
          class="mt-5 inline-block text-[#00FFD1] font-semibold transition-all duration-300 group-hover:translate-x-1 group-hover:underline"
        >
          Read More →
        </a>
        <img src="product.png" alt="Product 3" class="mt-4 rounded-xl" />
        <div
          class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-[#00FFD1]/20 to-transparent blur-xl opacity-50 rounded-full"
        ></div>
      </div>

      <!--Product Card 3 (Full Width)-->
      <!-- <div
        class="bg-white text-black rounded-lg shadow-lg p-6 md:col-span-2 product-item bottom-card item-hidden"
        #bottomCard
      >
        <h3 class="text-xl font-semibold">Breach Profiler™</h3>
        <p class="mt-2 text-gray-600">
          BreachProfiler™ uses AI to swiftly identify breach impacts—fast,
          accurate, and compliant post-cyber review.
        </p>
        <a
          [routerLink]="['/products/breach-profiler']"
          class="text-[#E76F51] hover:text-[#E65A4E] font-medium mt-3 inline-block hover:underline"
        >
          Read More →
        </a>
        <img src="product.png" alt="Product 3" class="mt-4 rounded-xl" />
      </div> -->
    </div>
  </div>
</section>
